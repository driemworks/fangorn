# Quickbeam

`quickbeam` is a command-line interface tool built using **Rust** and the **Fangorn** library. It provides encrypted file handling (encryption and decryption) leveraging the features of the Fangorn framework.

-----

## Features
  * **File Encryption (`Encrypt`):** Encrypt a message file under a specified 'intent' (policy) and register it.
  * **File Decryption (`Decrypt`):** Request and perform decryption of an encrypted file using a cryptographic 'witness' that satisfies the original intent.

-----

## üõ†Ô∏è Usage

Use `--help` on the main command or any subcommand for detailed usage information.

### Installation

1.  Ensure you have **Rust** and **Cargo** installed.
2.  Clone the repository and build the project:

<!-- end list -->

```bash
git clone <repository-url>
cd quickbeam
cargo build --release
# The executable will be available at target/release/quickbeam

### Encryption and Decryption Commands

These commands interface with both Fangorn and require a running substrate-node (where the iris contract is deployed).

#### Encrypt

Encrypts a plaintext message under a specific intent/policy.

| Argument | Description |
| :--- | :--- |
| `--message_path` | Path to the plaintext file to encrypt. |
| `--filename` | The filename to assign to the intent when registered. |
| `--config_path` | Path to the file containing KZG parameters (Fangorn configuration - autogenerated). |
| `--keystore-dir` | Path to the keystore. |
| `--intent` | The condition under which the message is encrypted. |
| `--contract_addr` | The address of the iris contract. |

``` bash
quickbeam encrypt \
    --message-path test.txt \
    --filename "test.txt" \
    --config_path config.config \
    --keystore_dir /tmp/keystore \
    --intent "Password(test)" \
    --contract_addr 5EhyMXxc9TqnYxmKuFkk6sLzCm3CFWN8qfk7TA7T2va1vsGR
```

#### Decrypt

Requests and performs the decryption of an encrypted file.

| Argument | Description |
| :--- | :--- |
| `--config_path` | Path to the directory of the KZG parameters (Fangorn config - autogenerated). |
| `--filename` | The logical filename/identifier of the encrypted document (in iris). |
| `--witness` | A plaintext "witness" that satisfies the encryption intent/policy. |
| `--pt_filename` | The name of the file to write the decrypted plaintext to. |
| `--contract_addr` | The address of the iris contract. |

```bash
quickbeam decrypt \
    --config_path ./config.config \
    --filename "secret_doc_2025" \
    --witness "strong_password" \
    --pt_filename ./decrypted_secret.txt \
    --contract_addr 0x...
```
