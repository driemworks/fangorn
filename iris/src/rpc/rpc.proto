syntax = "proto3";

package rpc;

service Rpc {
  rpc Preprocess (PreprocessRequest) returns (PreprocessResponse);
  rpc Partdec (PartDecRequest) returns (PartDecResponse);
}

message PreprocessRequest { }

message PreprocessResponse {
  string hex_serialized_sys_key = 1;
}

message PartDecRequest {
    string ciphertext_hex = 1;
    // Hex-encoded public key (32 bytes)
    string public_key = 2;
    // Hex-encoded signature (64 bytes)
    string signature = 3;
    // Asset to verify ownership of
    uint32 asset_id = 4;
}

message PartDecResponse {
  string hex_serialized_decryption = 1;
}